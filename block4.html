<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Block 4 - Managing spatial data</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.min.css">
    <link rel="stylesheet" href="theme/geoweb.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="bower_components/reveal.js/lib/css/zenburn.css">

    <!--[if lt IE 9]>
    <script src="bower_components/reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
    <style>
      .reveal h1.humble {
        font-weight: bold;
        text-transform: uppercase;
        font-size: 36pt;
        line-height: 42pt;
        text-shadow: 10px 10px 6px rgba(0, 0, 0, 0.2);
      }
      .reveal ul.plain {
        list-style-type: none;
      }
      .reveal ul.centered {
        text-align: center;
      }
      .reveal h2 > img {
        vertical-align: sub;
      }
      .ex-link {
        font-size: smaller;
      }
      #logos > div {
        padding: 0 10px;
        display: inline-block;
        text-align: center;
        vertical-align: middle;
      }
      #logos > div img {
        margin: 0;
        vertical-align: text-bottom;
      }
      pre.narrow {
        width: 50%;
      }

    </style>
  </head>
  <body>

    <div class="reveal">
      <div class="slides">
        <section>
          <h2><a href="block4.html">Block 4<br>Managing spatial data</a></h2>
          <ul class="plain centered">
            <li>Open Data</li>
            <li>OpenStreetMap</li>
            <li>Spatial SQL</li>
            <li>GeoServer, OpenGeo Suite</li>
          </ul>
        </section>
        <section>
          <h2>Open Data</h2>
          <h3>Here: Open Government Data</h3>
          <p>Example: OGD Wien</p>
          <a href="http://open.wien.at/">http://open.wien.at/</a>
        </section>
        <section>
          <h3>OGD Wien overview</h3>
          <ul>
            <li>Non-geospatial data</li>
            <li>Census data for Statistik Austria regional classifications</li>
            <li>Geospatial vector data</li>
            <li>Raster maps</li>
          </ul>
        </section>
        <section>
          <h2>OpenStreetMap</h2>
          <p>A community map of the world</p>
          <a href="http://openstreetmap.org/">http://openstreetmap.org/</a>
        </section>
        <section>
          <h3>OpenStreetMap usage examples and services</h3>
          <ul>
            <li>Tile map service</li>
            <li>Routing</li>
            <li>Humanitarian aid</li>
            <li>Natural disaster response</li>
          </ul>
        </section>
        <section>
          <a href="http://live.openstreetmap.fr">OpenStreetMaps edits live</a>
        </section>
        <section>
          <h3><a href="http://embed.ted.com/talks/tim_berners_lee_on_the_next_web.html">Tim Berners Lee: The next web</a></h3>
        </section>
        <section>
          <h2>Spatial SQL</h2>
          <ul>
            <li>Store, analyze and manipulate spatial objects in databases</li>
            <li>Spatial data types, indexes and functions</li>
          </ul>
        </section>
        <section>
          <h3>SpatiaLite</h3>
          <p>A spatial SQL extension for SQLite</p>
          <p>Implements the OGC Simple Features for SQL specification</p>
        </section>
        <section>
          <h3>PostGIS</h3>
          <p>The most advanced open source spatial database</p>
          <p>Extends PostgreSQL</p>
          <p>Very similar spatial SQL dialect, so we can use it as reference for
            SpatiaLite</p>
        </section>
        <section>
          <h3>Spatial SQL with SpatiaLite</h3>
          <p><a href="http://workshops.boundlessgeo.com/postgis-intro/">http://workshops.boundlessgeo.com/postgis-intro/</a></p>
          <p>Download the data bundle, but not OpenGeo Suite</p>
          <p>Download spatialite-gui: <a href="http://www.gaia-gis.it/gaia-sins/windows-bin-x86-prev/spatialite_gui-1.5.0-stable-win-x86.zip">Windows</a>|<a href="http://www.lthe.fr/PagePerso/debionne/software/spatialite_gui_1_5_0_static.dmg">OSX</a></p>
          <p><a href="http://www.gaia-gis.it/spatialite-3.0.0-BETA/spatialite-sql-3.0.0.html">SpatiaLite SQL Reference</a></p>
          <p><a href="http://www.sqlite.org/lang.html">SQLite SQL Reference</a></p>
        </section>
        <section>
          <h3>Version check</h3>
          <pre><code class="sql" data-trim>
SELECT sqlite_version();
          </code></pre>
          <pre><code class="sql" data-trim>
SELECT spatialite_version();
          </code></pre>
        </section>
        <section>
          <h3>Spatially enable an existing database</h3>
          <p>Try this on your geoweb db in spatialite-gui</p>
          <pre><code class="sql" data-trim>
SELECT InitSpatialMetadata();
          </code></pre>
        </section>
        <section>
          <h3>Add a geometry column to a table</h3>
          <p>Try this on your geoweb db in spatialite-gui</p>
          <pre><code class="sql" data-trim>
SELECT AddGeometryColumn('feedback', 'geom', 4326, 'POINT', 'XY');
          </code></pre>
        </section>
        <section>
          <h2>GeoServer</h2>
          <p>Load, publish, style, and share geospatial data</p>
          <p>Implements (among others) OGC WMS and WFS</p>
        </section>
        <section>
          <h3>OpenGeo Suite</h3>
          <p>A complete geospatial stack including GeoServer and PostGIS</p>
          <p class="fragment">Commercial open source with professional support</p>
          <p class="fragment">Best way to DIY install GeoServer</p>
          <p class="fragment">Requires you to run your own server or use Amazon AWS</p>
          <p class="fragment"><a href="http://opengeosuite.com/">http://opengeosuite.com/</a></p>
        </section>
        <section>
          <h3>Hosted alternatives when maps are enough</h3>
          <p><a href="http://mapbox.com/">MapBox</a></p>
          <p><a href="http://cartodb.com/">CartoDB</a></p>
        </section>
        <section>
          <h3>Introduction to GeoServer</h3>
          <p><a href="http://workshops.boundlessgeo.com/geoserver-intro/">http://workshops.boundlessgeo.com/geoserver-intro/</a></p>
          <p>No need to download OpenGeo Suite.</p>
          <p>We will publish our SpatiaLite layers instead of the example
            shapefiles.</p>
        </section>
        <section>
          <h3>SpatiaLite layers in GeoServer</h3>
          <p>SpatiaLite data store</p>
          <p>Path: /scratch/users/geoweb2014/htdocs/gXX/ + file</p>
        </section>
        <section>
          <h2>Group exercises</h2>
          <ol>
            <li>SpatiaLite: How to import GeoJSON</li>
            <li>GeoServer: How to publish a layer from a shapefile</li>
            <li>OGD Wien: Overview of data relevant for planning</li>
            <li>OpenStreetMap: Getting involved - why and how</li>
          </ol>
        </section>
        <section>
          <h2>Group exercise: SpatiaLite</h2>
          <p>Describe steps for importing a GeoJSON file into SpatiaLite.</p>
          <p>Try your GeoJSON file with the group members.</p>
        </section>
        <section>
          <h2>Group exercise: GeoServer</h2>
          <p>Learn how to publish a layer from a shapefile.</p>
          <p>Use the nyc_neighborhoods shapefile from the PostGIS workshop.</p>
          <p>Create a copy of map.html from the previous exercise and show the
            contents of the shapefile instead.</p>
          <p>Hint: The path to shapefiles is the same as to sqlite files.</p>
        </section>
        <section>
          <h2>Group exercise: OGD Wien</h2>
          <p>Browsing the data catalog, compile a list of data that you consider
            useful for planning.</p>
          <p>For each of the suitable data sets, come up with an example of how
            it could be used in planning.</p>
        </section>
        <section>
          <h2>Group exercise: OpenStreetMap</h2>
          <p>Give a brief introduction on how to get started with contributing
            to OpenStreetMap.</p>
          <p>Sign up, find something wrong/missing in OpenSteetMap, and fix
            it.</p>
        </section>
        <section>
          <h2>Exercise - Part 1</h2>
          <h3>Task: JavaScript + WFS feedback form</h3>
          <ul>
            <li>Use spatialite-gui to add a "geom" Point column to the feedback table</li>
            <li>Configure the feedback table as layer in GeoServer</li>
            <li>Save your feedback.php as feedback.html on GitHub.</li>
            <li>Add some JavaScript (change gXX to match your group):
              <pre><code class="html" data-trim>&lt;script src="http://openlayers.org/en/v3.0.0/build/ol.js"&gt;&lt;/script&gt;
&lt;script src="http://bit.ly/1An0jZy"&gt;&lt;/script&gt;
&lt;script&gt;
  featureType = "feedback";
  featureNS = "http://geoweb/2014/gXX";
&lt;/script&gt;</code></pre></li>
          <li>Change the &lt;form&gt; element:
            <pre><code class="html" data-trim>&lt;form action="javascript:submitForm();"&gt;</code></pre>
          </ul>
        </section>
        <section>
          <h2>Exercise - Part 2</h2>
          <h3>Task: Show feedback coordinates on a map next to the form</h3>
          <ul>
            <li>Create a copy of map.html (feedback_map.html) from last week's
              exercise</li>
            <li>Using a 2-column Bootstrap layout, update the page to show both
              map and form</li>
            <li>Update feedback_map.html to show the feedback layer</li>
          </ul>
        </section>
      </div>
    </div>

    <!-- reveal.js loading and configuration -->
    <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
    <script src="bower_components/reveal.js/js/reveal.min.js"></script>
    <script>
      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        rollingLinks: false,
        transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [{
          src: 'bower_components/reveal.js/lib/js/classList.js',
          condition: function() {
            return !document.body.classList;
          }
        }, {
          src: 'bower_components/reveal.js/plugin/highlight/highlight.js',
          async: true,
          callback: function() {
            hljs.initHighlightingOnLoad();
          }
        }]
      });

    </script>
  </body>
</html>
